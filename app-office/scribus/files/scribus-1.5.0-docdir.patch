 CMakeLists.txt | 28 +++++++++++++++-------------
 1 file changed, 15 insertions(+), 13 deletions(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index 29d66f3..1c08cdd 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -244,19 +244,21 @@ ELSE()
 ENDIF()
 
 #SHARE - use the default on Apple as TAG_VERSION is empty
-IF(WIN32 OR OS2)
-	SET(DOCDIR "${CMAKE_INSTALL_DATAROOTDIR}/doc/")
-ELSE (WIN32 OR OS2)
-	IF(TAG_VERSION OR BUILD_OSX_BUNDLE)
-		SET(DOCDIR "${CMAKE_INSTALL_DATAROOTDIR}/doc/${MAIN_DIR_NAME}${TAG_VERSION}/")
-	ELSE(TAG_VERSION OR BUILD_OSX_BUNDLE)
-		IF(NOT WANT_VERSIONING)
-			SET(DOCDIR "${CMAKE_INSTALL_DATAROOTDIR}/doc/${MAIN_DIR_NAME}/")
-		ELSE(NOT WANT_VERSIONING)
-			SET(DOCDIR "${CMAKE_INSTALL_DATAROOTDIR}/doc/${MAIN_DIR_NAME}-${VERSION}/")
-		ENDIF(NOT WANT_VERSIONING)
-	ENDIF (TAG_VERSION OR BUILD_OSX_BUNDLE)
-ENDIF (WIN32 OR OS2)
+IF(NOT DOCDIR)
+	IF(WIN32 OR OS2)
+		SET(DOCDIR "${CMAKE_INSTALL_DATAROOTDIR}/doc/")
+	ELSE (WIN32 OR OS2)
+		IF(TAG_VERSION OR BUILD_OSX_BUNDLE)
+			SET(DOCDIR "${CMAKE_INSTALL_DATAROOTDIR}/doc/${MAIN_DIR_NAME}${TAG_VERSION}/")
+		ELSE(TAG_VERSION OR BUILD_OSX_BUNDLE)
+			IF(NOT WANT_VERSIONING)
+				SET(DOCDIR "${CMAKE_INSTALL_DATAROOTDIR}/doc/${MAIN_DIR_NAME}/")
+			ELSE(NOT WANT_VERSIONING)
+				SET(DOCDIR "${CMAKE_INSTALL_DATAROOTDIR}/doc/${MAIN_DIR_NAME}-${VERSION}/")
+			ENDIF(NOT WANT_VERSIONING)
+		ENDIF (TAG_VERSION OR BUILD_OSX_BUNDLE)
+	ENDIF (WIN32 OR OS2)
+ENDIF(NOT DOCDIR)
 IF(NOT IS_ABSOLUTE ${DOCDIR})
 	ADD_DEFINITIONS("-DDOCDIR=\\\"${CMAKE_INSTALL_PREFIX}/${DOCDIR}\\\"")
 ELSE()
