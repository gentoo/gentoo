--- a/CMakeLists.txt   2025-12-25 00:32:05.240264435 -0600
+++ b/CMakeLists.txt   2025-12-25 00:34:43.827778509 -0600
@@ -232,14 +232,9 @@
 
 find_req_library_and_header(GMP_PATH gmp.h GMP_LIB gmp)
 if(GMP_PATH AND EXISTS "${GMP_PATH}/gmp.h")
-  file(STRINGS "${GMP_PATH}/gmp.h" gmp_header_str REGEX "^#define[\t ]+__GNU_MP_VERSION(_MINOR|_PATCHLEVEL)?[\t ]+[0-9]+")
-  string(REGEX REPLACE ".*#define __GNU_MP_VERSION[\t ]+([0-9]+).*" "\\1" GMP_VERSION_MAJOR "${gmp_header_str}")
-  string(REGEX REPLACE ".*#define __GNU_MP_VERSION_MINOR[\t ]+([0-9]+).*" "\\1" GMP_VERSION_MINOR "${gmp_header_str}")
-  string(REGEX REPLACE ".*#define __GNU_MP_VERSION_PATCHLEVEL[\t ]+([0-9]+).*" "\\1" GMP_VERSION_PATCH "${gmp_header_str}")
-  unset(gmp_header_str)
-  set(GMP_VERSION_STRING "${GMP_VERSION_MAJOR}.${GMP_VERSION_MINOR}.${GMP_VERSION_PATCH}")
+  execute_process(COMMAND pkg-config gmp --modversion OUTPUT_VARIABLE GMP_VERSION_STRING)
   if("${GMP_VERSION_STRING}" VERSION_LESS ${Required_Gmp_Version})
-    message(FATAL_ERROR "Ledger requires GMP version ${Expected_Gmp_Version} or greater, but only GMP version ${GMP_VERSION_STRING} was found")
+    message(FATAL_ERROR "Ledger requires GMP version ${Required_Gmp_Version} or greater, but only GMP version ${GMP_VERSION_STRING} was found")
   endif()
 endif()
 
@@ -252,6 +247,6 @@
   unset(mpfr_header_str)
   set(MPFR_VERSION_STRING "${MPFR_VERSION_MAJOR}.${MPFR_VERSION_MINOR}.${MPFR_VERSION_PATCH}")
   if("${MPFR_VERSION_STRING}" VERSION_LESS ${Required_Mpfr_Version})
-    message(FATAL_ERROR "Ledger requires MPFR version ${Expected_Mpfr_Version} or greater, but only MPFR version ${MPFR_VERSION_STRING} was found")
+    message(FATAL_ERROR "Ledger requires MPFR version ${Required_Mpfr_Version} or greater, but only MPFR version ${MPFR_VERSION_STRING} was found")
   endif()
 endif()
