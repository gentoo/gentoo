--- a/configure.ac	2019-08-08 15:18:00.000000000 +0200
+++ b/configure.ac	2020-04-06 15:36:51.410755337 +0200
@@ -55,16 +55,21 @@
 
 GTK_DOC_CHECK([1.3])
 
-AC_ARG_WITH([systemdsystemunitdir],
+AC_ARG_ENABLE(systemd, AC_HELP_STRING([--enable-systemd],[Build with systemd]), enable_systemd="$enableval", enable_systemd=yes)
+has_sytemd=no
+if test x$enable_systemd = xyes; then
+	has_systemd=yes
+	AC_ARG_WITH([systemdsystemunitdir],
             AS_HELP_STRING([--with-systemdsystemunitdir=DIR], [Directory for systemd service files]),
             [],
             [with_systemdsystemunitdir=$($PKG_CONFIG --variable=systemdsystemunitdir systemd)])
-AS_IF([test "x$with_systemdsystemunitdir" != "xno"], [
-  # StateDirectory was introduced in systemd 235
-  PKG_CHECK_MODULES(SYSTEMD, systemd >= 235)
-  AC_SUBST([systemdsystemunitdir], [$with_systemdsystemunitdir])
-])
-AM_CONDITIONAL(HAVE_SYSTEMD, [test -n "$systemdsystemunitdir"])
+	AS_IF([test "x$with_systemdsystemunitdir" != "xno"], [
+  	# StateDirectory was introduced in systemd 235
+  	PKG_CHECK_MODULES(SYSTEMD, systemd >= 235)
+  	AC_SUBST([systemdsystemunitdir], [$with_systemdsystemunitdir])
+	])
+fi
+AM_CONDITIONAL(HAVE_SYSTEMD, test "x$has_systemd" = "xyes")
 
 AS_AC_EXPAND(DATADIR, $datadir)
 
