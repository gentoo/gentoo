diff --git a/third_party/dav1d/BUILD.gn b/third_party/dav1d/BUILD.gn
index 63f12f8..f8f0b40 100644
--- a/third_party/dav1d/BUILD.gn
+++ b/third_party/dav1d/BUILD.gn
@@ -99,6 +99,7 @@ config("dav1d_config") {
 dav1d_copts = [
   "-D_FILE_OFFSET_BITS=64",
   "-D_POSIX_C_SOURCE=200112L",
+  "-D_GNU_SOURCE",
 ]
 
 if (is_win) {
