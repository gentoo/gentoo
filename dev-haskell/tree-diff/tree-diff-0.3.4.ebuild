# Copyright 1999-2026 Gentoo Authors
# Distributed under the terms of the GNU General Public License v2

EAPI=8

# ebuild generated by hackport 0.9.0.0.9999

CABAL_FEATURES="lib profile haddock hoogle hscolour" # test-suite"
inherit haskell-cabal

DESCRIPTION="Diffing of (expression) trees"
HOMEPAGE="https://github.com/phadej/tree-diff"

LICENSE="GPL-2+"
SLOT="0/${PV}"
KEYWORDS="~amd64 ~arm64 ~ppc64 ~riscv ~x86"

RESTRICT=test # tasty, tasty-quickcheck versions too new.

CABAL_CHDEPS=(
	'base        >=4.12.0.0  && <4.21' 'base >=4.12'
	'time        ^>=1.8.0.2  || ^>=1.9.3    || ^>=1.10     || ^>=1.11 || ^>=1.12' 'time ^>=1.8.0.2 || >=1.9.3'
)

RDEPEND="
	>=dev-haskell/aeson-2.2.0.0:=[profile?] <dev-haskell/aeson-2.3:=[profile?]
	>=dev-haskell/ansi-terminal-1.1:=[profile?] <dev-haskell/ansi-terminal-1.2:=[profile?]
	>=dev-haskell/ansi-wl-pprint-1.0.2:=[profile?] <dev-haskell/ansi-wl-pprint-1.1:=[profile?]
	>=dev-haskell/data-array-byte-0.1.0.1:=[profile?] <dev-haskell/data-array-byte-0.2:=[profile?]
	>=dev-haskell/parsec-3.1.13.0:=[profile?] <dev-haskell/parsec-3.2:=[profile?]
	>=dev-haskell/hashable-1.4.4.0:=[profile?] <dev-haskell/hashable-1.6:=[profile?]
	>=dev-haskell/parsers-0.12.11:=[profile?] <dev-haskell/parsers-0.13:=[profile?]
	>=dev-haskell/primitive-0.9.0.0:=[profile?] <dev-haskell/primitive-0.10:=[profile?]
	>=dev-haskell/quickcheck-2.14.2:=[profile?] <dev-haskell/quickcheck-2.16:=[profile?]
	>=dev-haskell/scientific-0.3.8.0:=[profile?] <dev-haskell/scientific-0.4:=[profile?]
	>=dev-haskell/semialign-1.3.1:=[profile?] <dev-haskell/semialign-1.4:=[profile?]
	>=dev-haskell/strict-0.5:=[profile?] <dev-haskell/strict-0.6:=[profile?]
	>=dev-haskell/tagged-0.8.8:=[profile?] <dev-haskell/tagged-0.9:=[profile?]
	>=dev-haskell/these-1.2.1:=[profile?] <dev-haskell/these-1.3:=[profile?]
	>=dev-haskell/unordered-containers-0.2.20:=[profile?] <dev-haskell/unordered-containers-0.3:=[profile?]
	>=dev-haskell/uuid-types-1.0.6:=[profile?] <dev-haskell/uuid-types-1.1:=[profile?]
	>=dev-haskell/vector-0.13.1.0:=[profile?] <dev-haskell/vector-0.14:=[profile?]
	>=dev-lang/ghc-9.0.2:=
	|| (
		( >=dev-haskell/text-1.2.3.0 <dev-haskell/text-1.3 )
		( >=dev-haskell/text-2.0 <dev-haskell/text-2.2 )
	)
	dev-haskell/text:=[profile?]
"
DEPEND="${RDEPEND}
	>=dev-haskell/cabal-3.4.1.0
"
# test? (
# 		dev-haskell/quickcheck
# 		>=dev-haskell/tasty-1.5 <dev-haskell/tasty-1.6
# 		>=dev-haskell/tasty-golden-2.3.5 <dev-haskell/tasty-golden-2.4
# 		>=dev-haskell/tasty-quickcheck-0.10.3 <dev-haskell/tasty-quickcheck-0.12
# 		>=dev-haskell/trifecta-2.1.4 <dev-haskell/trifecta-2.2
# 	)
# "
