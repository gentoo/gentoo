From b524efeffa8d192c2597f4612ca961adc30286f6 Mon Sep 17 00:00:00 2001
From: Albert Astals Cid <aacid@kde.org>
Date: Wed, 13 Sep 2017 22:58:14 +0200
Subject: [PATCH 1/4] XRef::parseEntry: Fix crash in broken file

Bug #102687
---
 poppler/XRef.cc | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/poppler/XRef.cc b/poppler/XRef.cc
index 6ea0fbb6..c74f2f60 100644
--- a/poppler/XRef.cc
+++ b/poppler/XRef.cc
@@ -1603,6 +1603,9 @@ GBool XRef::parseEntry(Goffset offset, XRefEntry *entry)
 {
   GBool r;
 
+  if (unlikely(entry == nullptr))
+    return gFalse;
+
   Object obj;
   obj.initNull();
   Parser parser = Parser(NULL, new Lexer(NULL,
-- 
2.14.1

