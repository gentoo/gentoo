https://bugs.gentoo.org/580052
https://sourceforge.net/p/hdparm/patches/44/

--- a/geom.c
+++ b/geom.c
@@ -15,6 +15,7 @@
 #include <errno.h>
 #include <dirent.h>
 #include <sys/stat.h>
+#include <sys/sysmacros.h>
 #include <sys/ioctl.h>
 #include <linux/types.h>
 #include <linux/fs.h>
--- a/sysfs.c
+++ b/sysfs.c
@@ -15,6 +15,7 @@
 #include <dirent.h>
 #include <limits.h>
 #include <sys/stat.h>
+#include <sys/sysmacros.h>
 #include <linux/types.h>
 
 #include "hdparm.h"
