From 0b1e568bc66df9fdb0bfd6f54b4ff2e540769dbe Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Arsen=20Arsenovi=C4=87?= <arsen@aarsen.me>
Date: Thu, 19 Aug 2021 02:36:54 +0200
Subject: [PATCH] unconditionally configure systemd service

---
 meson.build | 15 +++------------
 1 file changed, 3 insertions(+), 12 deletions(-)

diff --git a/meson.build b/meson.build
index dc14eb1..9a3b3fe 100644
--- a/meson.build
+++ b/meson.build
@@ -76,18 +76,9 @@ updatedb_conf_man = configure_file(input: 'updatedb.conf.5.in',
                configuration: conf_data)
 install_man(updatedb_conf_man)
 
-if get_option('install_systemd')
-	unitdir = get_option('systemunitdir')
-	if unitdir == ''
-		unitdir = dependency('systemd').get_pkgconfig_variable('systemdsystemunitdir')
-	endif
-
-	updatedb_service = configure_file(input: 'plocate-updatedb.service.in',
-		output: 'plocate-updatedb.service',
-		configuration: conf_data)
-	install_data(updatedb_service, install_dir: unitdir)
-	install_data('plocate-updatedb.timer', install_dir: unitdir)
-endif
+updatedb_service = configure_file(input: 'plocate-updatedb.service.in',
+	output: 'plocate-updatedb.service',
+	configuration: conf_data)
 
 # Requires having TurboPFor checked out, so not built by default.
 # Unless you have a recent Meson, there's no apparently good way
-- 
2.31.1

