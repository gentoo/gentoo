--- a/Makefile
+++ b/Makefile
@@ -12,24 +12,24 @@
 
 CFLAGS	+= -O3 -Wall -pthread
 
-LIB1     = libpigpio.so
+LIB1     = libpigpio.so.0
 OBJ1     = pigpio.o command.o
 
-LIB2     = libpigpiod_if.so
+LIB2     = libpigpiod_if.so.0
 OBJ2     = pigpiod_if.o command.o
 
-LIB3     = libpigpiod_if2.so
+LIB3     = libpigpiod_if2.so.0
 OBJ3     = pigpiod_if2.o command.o
 
 LIB      = $(LIB1) $(LIB2) $(LIB3)
 
 ALL     = $(LIB) x_pigpio x_pigpiod_if x_pigpiod_if2 pig2vcd pigpiod pigs
 
-LL1      = -L. -lpigpio -pthread -lrt
+LL1      = -L. $(LIB1) -pthread -lrt
 
-LL2      = -L. -lpigpiod_if -pthread -lrt
+LL2      = -L. $(LIB2) -pthread -lrt
 
-LL3      = -L. -lpigpiod_if2 -pthread -lrt
+LL3      = -L. $(LIB3) -pthread -lrt
 
 prefix = /usr/local
 exec_prefix = $(prefix)
@@ -63,15 +63,12 @@
 
 pigpiod:	pigpiod.o $(LIB1)
 	$(CC) -o pigpiod pigpiod.o $(LL1)
-	$(STRIP) pigpiod
 
 pigs:		pigs.o command.o
 	$(CC) -o pigs pigs.o command.o
-	$(STRIP) pigs
 
 pig2vcd:	pig2vcd.o
 	$(CC) -o pig2vcd pig2vcd.o
-	$(STRIP) pig2vcd
 
 clean:
 	rm -f *.o *.i *.s *~ $(ALL)
@@ -115,19 +112,13 @@
 	ldconfig
 
 $(LIB1):	$(OBJ1)
-	$(SHLIB) -o $(LIB1) $(OBJ1)
-	$(STRIPLIB) $(LIB1)
-	$(SIZE)     $(LIB1)
+	$(SHLIB) -o $(LIB1) -Wl,-soname,$(LIB1) $(OBJ1)
 
 $(LIB2):	$(OBJ2)
-	$(SHLIB) -o $(LIB2) $(OBJ2)
-	$(STRIPLIB) $(LIB2)
-	$(SIZE)     $(LIB2)
+	$(SHLIB) -o $(LIB2) -Wl,-soname,$(LIB2) $(OBJ2)
 
 $(LIB3):	$(OBJ3)
-	$(SHLIB) -o $(LIB3) $(OBJ3)
-	$(STRIPLIB) $(LIB3)
-	$(SIZE)     $(LIB3)
+	$(SHLIB) -o $(LIB3) -Wl,-soname,$(LIB3) $(OBJ3)
 
 # generated using gcc -MM *.c
 
