diff -ruN stone_soup-0.16.2.orig/source/util/gather_abilities stone_soup-0.16.2/source/util/gather_abilities
--- source.orig/util/gather_abilities	2015-08-10 03:32:30.000000000 +0200
+++ source/util/gather_abilities	2017-07-08 20:46:16.112231100 +0200
@@ -5,7 +5,7 @@
 $_ = <IN>;
 close IN;
 
-s/.*Ability_List\[\] =\n{\n(.*?)};.*/$1/s
+s/.*Ability_List\[\] =\n\{\n(.*?)};.*/$1/s
     or die "Can't find Ability_List[] in ability.cc\n";
 
 print join("\n", sort /ABIL_[A-Z0-9_]+\s*,\s*"([*-Za-z0-9 '-]+)"/sg), "\n";
diff -ruN stone_soup-0.16.2.orig/source/util/gather_cards stone_soup-0.16.2/source/util/gather_cards
--- source.orig/util/gather_cards	2015-08-10 03:32:30.000000000 +0200
+++ source/util/gather_cards	2017-07-08 20:46:45.113232307 +0200
@@ -5,7 +5,7 @@
 $_ = <IN>;
 close IN;
 
-s/.*card_name\(card_type card\)\n{\n\s+switch(.*?)\n}\n.*/$1/s
+s/.*card_name\(card_type card\)\n\{\n\s+switch(.*?)\n}\n.*/$1/s
     or die "Can't find card_name() in decks.cc\n";
 
 @cards = map { /case CARD_[A-Z_]+:\s+return "([^"]+)";$/ ? ("$1") : () } split /\n/;
diff -ruN stone_soup-0.16.2.orig/source/util/gather_mons stone_soup-0.16.2/source/util/gather_mons
--- source.orig/util/gather_mons	2014-07-28 17:19:20.000000000 +0200
+++ source/util/gather_mons	2017-07-08 20:47:10.378233358 +0200
@@ -99,7 +99,7 @@
     open IN, "util/cpp_version spl-summoning.cc|" or die "Can't read spl-summoning.cc\n";
     while (<IN>)
     {
-        $mons{$1} = 1 if (/^    { MONS_[A-Z0-9_]+, "([A-Za-z0-9 ']+)" },$/);
+        $mons{$1} = 1 if (/^    \{ MONS_[A-Z0-9_]+, "([A-Za-z0-9 ']+)" },$/);
     }
     close IN;
 }
diff -ruN stone_soup-0.16.2.orig/source/util/gen-mi-enum stone_soup-0.16.2/source/util/gen-mi-enum
--- source.orig/util/gen-mi-enum	2014-07-28 17:19:20.000000000 +0200
+++ source/util/gen-mi-enum	2017-07-08 20:47:28.491234111 +0200
@@ -5,7 +5,7 @@
 $_=<IN>;
 s/\r//g;
 
-s/^enum monster_info_flags\n{\n//m && s/^\s*NUM_MB_FLAGS.*//ms
+s/^enum monster_info_flags\n\{\n//m && s/^\s*NUM_MB_FLAGS.*//ms
     or die "Can't find monster_info_flags in mon-info.h\n";
 open OUT, ">mi-enum.h" or die "Can't create mi-enum.h\n";
 print OUT "// Generated by gen-mi-enum, do not edit.\n\n";
