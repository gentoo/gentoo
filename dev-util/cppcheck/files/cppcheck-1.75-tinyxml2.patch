--- cppcheck-9999/gui/gui.pro
+++ cppcheck-9999/gui/gui.pro
@@ -19,6 +19,7 @@
     DEFINES += CPPCHECKLIB_IMPORT
 }
 LIBS += -L$$PWD/../externals
+LIBS += `pkg-config --libs tinyxml2`
 
 DESTDIR = .
 RCC_DIR = temp
--- cppcheck-9999/tools/dmake.cpp
+++ cppcheck-9999/tools/dmake.cpp
@@ -123,7 +123,6 @@
 
     std::vector<std::string> extfiles;
     extfiles.push_back("externals/simplecpp/simplecpp.cpp");
-    extfiles.push_back("externals/tinyxml/tinyxml2.cpp");
 
     std::vector<std::string> clifiles;
     getCppFiles(clifiles, "cli/", false);
@@ -172,7 +171,6 @@
         std::ofstream fout1("test/testfiles.pri");
         if (fout1.is_open()) {
             fout1 << "# no manual edits - this file is autogenerated by dmake\n\n";
-            fout1 << "INCLUDEPATH += ../externals/tinyxml\n";
             fout1 << "\n\nSOURCES += ";
             for (unsigned int i = 0; i < testfiles.size(); ++i) {
                 const std::string filename(testfiles[i].substr(5));
@@ -337,9 +335,9 @@
          << "endif\n\n";
 
     makeConditionalVariable(fout, "PREFIX", "/usr");
-    makeConditionalVariable(fout, "INCLUDE_FOR_LIB", "-Ilib -Iexternals/simplecpp -Iexternals/tinyxml");
-    makeConditionalVariable(fout, "INCLUDE_FOR_CLI", "-Ilib -Iexternals/simplecpp -Iexternals/tinyxml");
-    makeConditionalVariable(fout, "INCLUDE_FOR_TEST", "-Ilib -Icli -Iexternals/simplecpp -Iexternals/tinyxml");
+    makeConditionalVariable(fout, "INCLUDE_FOR_LIB", "-Ilib -Iexternals/simplecpp");
+    makeConditionalVariable(fout, "INCLUDE_FOR_CLI", "-Ilib -Iexternals/simplecpp");
+    makeConditionalVariable(fout, "INCLUDE_FOR_TEST", "-Ilib -Icli -Iexternals/simplecpp");
 
     fout << "BIN=$(DESTDIR)$(PREFIX)/bin\n\n";
     fout << "# For 'make man': sudo apt-get install xsltproc docbook-xsl docbook-xml on Linux\n";
--- cppcheck-9999/externals/externals.pri
+++ cppcheck-9999/externals/externals.pri
@@ -1,8 +1,5 @@
-INCLUDEPATH += $${PWD}/simplecpp \
-               $${PWD}/tinyxml
+INCLUDEPATH += $${PWD}/simplecpp
 
-HEADERS += $${PWD}/simplecpp/simplecpp.h \
-           $${PWD}/tinyxml/tinyxml2.h
+HEADERS += $${PWD}/simplecpp/simplecpp.h
 
-SOURCES += $${PWD}/simplecpp/simplecpp.cpp \
-           $${PWD}/tinyxml/tinyxml2.cpp
+SOURCES += $${PWD}/simplecpp/simplecpp.cpp
