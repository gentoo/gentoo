--- a/IGC/AdaptorOCL/dllInterfaceCompute.cpp
+++ b/IGC/AdaptorOCL/dllInterfaceCompute.cpp
@@ -1570,7 +1570,7 @@
 {
 #if IGC_VC_DISABLED
     SetErrorMessage("IGC VC explicitly disabled in build", *pOutputArgs);
-    return false;
+    return std::error_code(1, std::generic_category());
 #else
 
     llvm::StringRef ApiOptions{pInputArgs->pOptions, pInputArgs->OptionsSize};
