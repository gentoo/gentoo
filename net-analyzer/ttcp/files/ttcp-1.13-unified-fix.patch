diff '--color=auto' -urw a/ttcp.c b/ttcp.c
--- a/ttcp.c	2024-02-02 11:22:56.000000000 +0300
+++ b/ttcp.c	2025-11-16 21:07:33.090162321 +0300
@@ -111,26 +111,24 @@
 unsigned long numCalls;		/* # of I/O system calls */
 double cput, realt;		/* user, real time (seconds) */
 
-void err();
-void mes();
-void pattern();
+void err(const char *);
+void mes(const char *);
+void pattern( register char *cp, register int cnt );
 void prep_timer();
-double read_timer();
-int Nread();
-int Nwrite();
-void delay();
-int mread();
-char *outfmt();
+double read_timer(char *str,int len);
+int Nread(int fd, void *buf, int count );
+int Nwrite(int fd, void *buf, int count );
+void delay(unsigned int us);
+int mread(int fd, register char* bufp, unsigned n);
+char *outfmt(double b);
 
 void
-sigpipe()
+sigpipe(int)
 {
 }
 
 int
-main(argc,argv)
-int argc;
-char **argv;
+main(int argc, char** argv)
 {
 	unsigned long addr_tmp;
 	int c;
@@ -407,7 +405,7 @@
 		nbytes, cput, outfmt(nbytes/cput));
 	}
 	fprintf(stderr,
-		"ttcp%s: %d I/O calls, msec/call = %.2f, calls/sec = %.2f\n",
+		"ttcp%s: %lu I/O calls, msec/call = %.2f, calls/sec = %.2f\n",
 		trans?"-t":"-r",
 		numCalls,
 		1024.0 * realt/((double)numCalls),
@@ -415,20 +413,19 @@
 	fprintf(stderr,"ttcp%s: %s\n", trans?"-t":"-r", stats);
 	if (verbose) {
 	    fprintf(stderr,
-		"ttcp%s: buffer address %#x\n",
+		"ttcp%s: buffer address %#lx\n",
 		trans?"-t":"-r",
-		buf);
+		(uintptr_t) buf);
 	}
 	exit(0);
 
 usage:
-	fprintf(stderr,Usage);
+	fprintf(stderr, "%s", Usage);
 	exit(1);
 }
 
 void
-err(s)
-char *s;
+err(const char *s)
 {
 	fprintf(stderr,"ttcp%s: ", trans?"-t":"-r");
 	perror(s);
@@ -437,16 +434,13 @@
 }
 
 void
-mes(s)
-char *s;
+mes(const char *s)
 {
 	fprintf(stderr,"ttcp%s: %s\n", trans?"-t":"-r", s);
 }
 
 void
-pattern( cp, cnt )
-register char *cp;
-register int cnt;
+pattern( register char *cp, register int cnt )
 {
 	register char c;
 	c = 0;
@@ -457,8 +451,7 @@
 }
 
 char *
-outfmt(b)
-double b;
+outfmt(double b)
 {
     static char obuf[50];
     switch (fmt) {
@@ -488,10 +481,10 @@
 static struct	timeval time0;	/* Time at which timing started */
 static struct	rusage ru0;	/* Resource utilization at the start */
 
-static void prusage();
-static void tvadd();
-static void tvsub();
-static void psecs();
+static void prusage(register struct rusage *r0, register struct rusage *r1, struct timeval *e, struct timeval *b, char *outp);
+static void tvadd(struct timeval *tsum, struct timeval *t0, struct timeval *t1);
+static void tvsub(struct timeval *tdiff, struct timeval *t1, struct timeval *t0);
+static void psecs(long l,register char *cp);
 
 #if defined(SYSV)
 /*ARGSUSED*/
@@ -537,8 +530,7 @@
  * 
  */
 double
-read_timer(str,len)
-char *str;
+read_timer(char *str,int len)
 {
 	struct timeval timedol;
 	struct rusage ru1;
@@ -565,10 +557,12 @@
 }
 
 static void
-prusage(r0, r1, e, b, outp)
-	register struct rusage *r0, *r1;
-	struct timeval *e, *b;
-	char *outp;
+prusage(
+	register struct rusage *r0,
+	register struct rusage *r1,
+	struct timeval *e,
+	struct timeval *b,
+	char *outp)
 {
 	struct timeval tdiff;
 	register time_t t;
@@ -680,8 +674,10 @@
 }
 
 static void
-tvadd(tsum, t0, t1)
-	struct timeval *tsum, *t0, *t1;
+tvadd(
+	struct timeval *tsum,
+	struct timeval *t0,
+	struct timeval *t1)
 {
 
 	tsum->tv_sec = t0->tv_sec + t1->tv_sec;
@@ -691,8 +687,10 @@
 }
 
 static void
-tvsub(tdiff, t1, t0)
-	struct timeval *tdiff, *t1, *t0;
+tvsub(
+	struct timeval *tdiff,
+	struct timeval *t1,
+	struct timeval *t0)
 {
 
 	tdiff->tv_sec = t1->tv_sec - t0->tv_sec;
@@ -702,9 +700,7 @@
 }
 
 static void
-psecs(l,cp)
-long l;
-register char *cp;
+psecs(long l,register char *cp)
 {
 	register int i;
 
@@ -729,10 +725,7 @@
  *			N R E A D
  */
 int
-Nread( fd, buf, count )
-int fd;
-void *buf;
-int count;
+Nread(int fd, void *buf, int count )
 {
 	struct sockaddr_in from;
 	int len = sizeof(from);
@@ -761,10 +754,7 @@
  *			N W R I T E
  */
 int
-Nwrite( fd, buf, count )
-int fd;
-void *buf;
-int count;
+Nwrite(int fd, void *buf, int count )
 {
 	register int cnt;
 	if( udp )  {
@@ -784,7 +774,7 @@
 }
 
 void
-delay(us)
+delay(unsigned int us)
 {
 	struct timeval tv;
 
@@ -803,10 +793,7 @@
  * grouping as it is written with.  Written by Robert S. Miles, BRL.
  */
 int
-mread(fd, bufp, n)
-int fd;
-register char	*bufp;
-unsigned	n;
+mread(int fd, register char* bufp, unsigned n)
 {
 	register unsigned	count = 0;
 	register int		nread;
