From 0c87201f64491575350b18d04c62ec142e119d1f Mon Sep 17 00:00:00 2001
From: Sebastian Pipping <sebastian@pipping.org>
Date: Sat, 31 Dec 2011 20:17:20 +0100
Subject: [PATCH] Fix permissions

---
 unixos.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/unixos.c b/unixos.c
index fa6d0a7..0e2f469 100644
--- a/unixos.c
+++ b/unixos.c
@@ -134,9 +134,9 @@ FILE *os_createnewfile(char *fname)
     FILE *ret;
      
 #ifdef O_EXCL
-    fd=open(fname, O_RDWR|O_CREAT|O_EXCL, 0644);
+    fd=open(fname, O_RDWR|O_CREAT|O_EXCL, 0600);
 #else
-    fd=open(fname, O_RDWR|O_CREAT|O_TRUNC, 0644);
+    fd=open(fname, O_RDWR|O_CREAT|O_TRUNC, 0600);
 #endif
 
     if (fd == -1)
-- 
1.7.8.1

