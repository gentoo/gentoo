From a40447a74c41917643b7a5a28300c50f35b13388 Mon Sep 17 00:00:00 2001
Message-ID: <a40447a74c41917643b7a5a28300c50f35b13388.1764295572.git.sam@gentoo.org>
From: Sam James <sam@gentoo.org>
Date: Thu, 27 Nov 2025 23:50:10 +0000
Subject: [PATCH 1/2] meson: add build system

For ease of packaging.
---
 meson.build | 32 ++++++++++++++++++++++++++++++++
 1 file changed, 32 insertions(+)
 create mode 100644 meson.build

diff --git a/meson.build b/meson.build
new file mode 100644
index 0000000..83d2123
--- /dev/null
+++ b/meson.build
@@ -0,0 +1,32 @@
+project(
+    'guildmaster',
+    'c',
+    license: 'ISC',
+    meson_version: '>= 1.3.0',
+    version: '0.1',
+    default_options: ['warning_level=3'],
+)
+
+fuse_dep = dependency('fuse3')
+udev_dep = dependency('udev', required: false)
+
+dependencies = [fuse_dep]
+
+gm_run_exe = executable(
+    'gm-run',
+    ['gm-run.c'],
+    dependencies: dependencies,
+    install: true,
+)
+
+gm_exe = executable(
+    'gm',
+    ['gm.c'],
+    dependencies: dependencies,
+    install: true,
+)
+
+install_data(
+    ['cuse-guild.rules'],
+    install_dir: join_paths(udev_dep.get_variable('udevdir'), 'rules.d'),
+)
-- 
2.52.0

