diff --git a/include/qemu/osdep.h b/include/qemu/osdep.h
index 0f97d685..524f9725 100644
--- a/include/qemu/osdep.h
+++ b/include/qemu/osdep.h
@@ -118,6 +118,10 @@ extern int daemon(int, int);
 #include <setjmp.h>
 #include <signal.h>
 
+#ifdef __linux__
+#include <sys/sysmacros.h>
+#endif
+
 #ifdef __OpenBSD__
 #include <sys/signal.h>
 #endif
