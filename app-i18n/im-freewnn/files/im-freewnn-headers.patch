--- a/freewnn-utils.c
+++ b/freewnn-utils.c
@@ -18,6 +18,9 @@
  * Boston, MA 02111-1307, USA.
  */
 
+#include <stdlib.h>
+#include <string.h>
+
 #include "freewnn-utils.h"
 #include "kata2hkata.h"
 
--- a/im-freewnn.c
+++ b/im-freewnn.c
@@ -26,6 +26,7 @@
  */
 
 #include <stdio.h>
+#include <stdlib.h>
 
 #include <string.h>
 #include "keytable.h"
@@ -33,6 +34,7 @@
 #include <gdk/gdkkeysyms.h>
 
 #include "im-freewnn-intl.h"
+#include "freewnn-utils-ui.h"
 #include "convtable.h"
 #include "im-freewnn.h"
 
