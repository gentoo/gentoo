From b527ac775a6a5f1991c924720bd47802f48ad1c5 Mon Sep 17 00:00:00 2001
From: Andreas Cord-Landwehr <cordlandwehr@kde.org>
Date: Sat, 6 Sep 2025 18:00:02 +0200
Subject: [PATCH] Fix editorsession test

---
 autotests/unittests/editorsession/test_editorsession.cpp | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/autotests/unittests/editorsession/test_editorsession.cpp b/autotests/unittests/editorsession/test_editorsession.cpp
index f0859d12..fd9a4a20 100644
--- a/autotests/unittests/editorsession/test_editorsession.cpp
+++ b/autotests/unittests/editorsession/test_editorsession.cpp
@@ -159,7 +159,8 @@ void TestEditorSession::iterateCourse()
 
     // session assumed to initialize with first units's first phrase
     QCOMPARE(session.activeUnit(), unitA.get());
-    QCOMPARE(session.activePhrase()->self(), phraseA1);
+    // activating a unit shall not automatially select a phrase
+    QVERIFY(session.activePhrase() == nullptr);
     QVERIFY(course.get() == session.course());
 
     // test direct unit setters
-- 
GitLab

