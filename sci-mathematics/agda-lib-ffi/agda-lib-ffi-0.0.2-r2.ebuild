# Copyright 1999-2020 Gentoo Authors
# Distributed under the terms of the GNU General Public License v2

EAPI=5

# ebuild generated by hackport 0.3.5

CABAL_FEATURES="lib"
inherit haskell-cabal

AGDA_PN="agda-stdlib"
AGDA_PV="2.4.2.3"
AGDA_P="${AGDA_PN}-${AGDA_PV}"

DESCRIPTION="Auxiliary Haskell code used by Agda's standard library"
HOMEPAGE="https://wiki.portal.chalmers.se/agda/"
SRC_URI="https://github.com/agda/${AGDA_PN}/archive/${AGDA_PV}.tar.gz -> ${AGDA_P}.tar.gz"

LICENSE="MIT"
SLOT="0/${PV}"
KEYWORDS="~amd64 ~x86"
IUSE=""

RDEPEND=">=dev-lang/ghc-6.10.4:=
"
DEPEND="${RDEPEND}
	>=dev-haskell/cabal-1.8
"

S="${WORKDIR}/${AGDA_P}/ffi"

src_prepare() {
	cabal_chdeps \
		'base >= 4.5.0.0 && < 4.9' 'base >= 4.5.0.0'
}
