commit 12254fa398e627949af923afd0d48cd9b814f0a0
Author: rmcmahon <bob.mcmahon@broadcom.com>
Date:   Tue Jan 29 23:11:18 2019 -0800

    new version 2.0.14a, fix for -P w/server and summing

diff --git a/configure b/configure
index f1a9983..706e7a3 100755
--- a/configure
+++ b/configure
@@ -1,6 +1,6 @@
 #! /bin/sh
 # Guess values for system-dependent variables and create Makefiles.
-# Generated by GNU Autoconf 2.69 for Iperf 2.0.13.
+# Generated by GNU Autoconf 2.69 for Iperf 2.0.14a.
 #
 #
 # Copyright (C) 1992-1996, 1998-2012 Free Software Foundation, Inc.
@@ -577,8 +577,8 @@ MAKEFLAGS=
 # Identity of this package.
 PACKAGE_NAME='Iperf'
 PACKAGE_TARNAME='iperf'
-PACKAGE_VERSION='2.0.13'
-PACKAGE_STRING='Iperf 2.0.13'
+PACKAGE_VERSION='2.0.14a'
+PACKAGE_STRING='Iperf 2.0.14a'
 PACKAGE_BUGREPORT=''
 PACKAGE_URL=''
 
@@ -1313,7 +1313,7 @@ if test "$ac_init_help" = "long"; then
   # Omit some internal or obsolete options to make the list less imposing.
   # This message is too long to be a string in the A/UX 3.1 sh.
   cat <<_ACEOF
-\`configure' configures Iperf 2.0.13 to adapt to many kinds of systems.
+\`configure' configures Iperf 2.0.14a to adapt to many kinds of systems.
 
 Usage: $0 [OPTION]... [VAR=VALUE]...
 
@@ -1383,7 +1383,7 @@ fi
 
 if test -n "$ac_init_help"; then
   case $ac_init_help in
-     short | recursive ) echo "Configuration of Iperf 2.0.13:";;
+     short | recursive ) echo "Configuration of Iperf 2.0.14a:";;
    esac
   cat <<\_ACEOF
 
@@ -1493,7 +1493,7 @@ fi
 test -n "$ac_init_help" && exit $ac_status
 if $ac_init_version; then
   cat <<\_ACEOF
-Iperf configure 2.0.13
+Iperf configure 2.0.14a
 generated by GNU Autoconf 2.69
 
 Copyright (C) 2012 Free Software Foundation, Inc.
@@ -2236,7 +2236,7 @@ cat >config.log <<_ACEOF
 This file contains any messages produced by compilers while
 running configure, to aid debugging if configure makes a mistake.
 
-It was created by Iperf $as_me 2.0.13, which was
+It was created by Iperf $as_me 2.0.14a, which was
 generated by GNU Autoconf 2.69.  Invocation command line was
 
   $ $0 $@
@@ -3101,7 +3101,7 @@ fi
 
 # Define the identity of the package.
  PACKAGE='iperf'
- VERSION='2.0.13'
+ VERSION='2.0.14a'
 
 
 cat >>confdefs.h <<_ACEOF
@@ -8854,7 +8854,7 @@ cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
 # report actual input values of CONFIG_FILES etc. instead of their
 # values after options handling.
 ac_log="
-This file was extended by Iperf $as_me 2.0.13, which was
+This file was extended by Iperf $as_me 2.0.14a, which was
 generated by GNU Autoconf 2.69.  Invocation command line was
 
   CONFIG_FILES    = $CONFIG_FILES
@@ -8920,7 +8920,7 @@ _ACEOF
 cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
 ac_cs_config="`$as_echo "$ac_configure_args" | sed 's/^ //; s/[\\""\`\$]/\\\\&/g'`"
 ac_cs_version="\\
-Iperf config.status 2.0.13
+Iperf config.status 2.0.14a
 configured by $0, generated by GNU Autoconf 2.69,
   with options \\"\$ac_cs_config\\"
 
diff --git a/configure.ac b/configure.ac
index cd3c9a0..4c93328 100644
--- a/configure.ac
+++ b/configure.ac
@@ -5,7 +5,7 @@ dnl ===================================================================
 
 
 AC_PREREQ(2.59)
-AC_INIT(Iperf,2.0.13)
+AC_INIT(Iperf,2.0.14a)
 AC_CONFIG_HEADER([config.h])
 AM_INIT_AUTOMAKE()
 
diff --git a/include/version.h b/include/version.h
index 87279a7..d6f9d89 100644
--- a/include/version.h
+++ b/include/version.h
@@ -1,4 +1,4 @@
-#define IPERF_VERSION "2.0.13"
-#define IPERF_VERSION_DATE "21 Jan 2019"
+#define IPERF_VERSION "2.0.14a"
+#define IPERF_VERSION_DATE "29 Jan 2019"
 #define IPERF_VERSION_MAJORHEX 0x00020000
-#define IPERF_VERSION_MINORHEX 0x000D0003
+#define IPERF_VERSION_MINORHEX 0x000E0000
diff --git a/src/Reporter.c b/src/Reporter.c
index 80891aa..d5164ef 100644
--- a/src/Reporter.c
+++ b/src/Reporter.c
@@ -151,7 +151,9 @@ MultiHeader* InitMulti( thread_Settings *agent, int inID) {
             memset( multihdr, 0, sizeof(MultiHeader) );
             Condition_Initialize( &multihdr->barrier );
             multihdr->groupID = inID;
-            multihdr->threads = agent->mThreads;
+	    if (agent->mThreadMode == kMode_Client) {
+		multihdr->threads = agent->mThreads;
+	    }
             if ( isMultipleReport( agent ) ) {
                 int i;
                 ReporterData *data = NULL;
