--- a/test/test-helper.el
+++ b/test/test-helper.el
@@ -10,13 +10,13 @@
 (require 'cl-lib)
 
 (unless (getenv "PACKAGE_TAR")
-  (error "Missing package tar. Must be passed by PACKAGE_TAR env variable"))
+  (message "Missing package tar. Must be passed by PACKAGE_TAR env variable"))
 
 (defvar pdf-tools-package (expand-file-name (getenv "PACKAGE_TAR")))
 
 (unless (and (file-exists-p pdf-tools-package)
              (string-match "\\.tar\\'" pdf-tools-package))
-  (error "Invalid tar package: %s" pdf-tools-package))
+  (message "Invalid tar package: %s" pdf-tools-package))
 
 (unless load-file-name
   (error "load-file-name is unset"))
@@ -33,14 +33,7 @@
         (directory-if-exists-p
          (format "../.cask/%d.%d/elpa"
                  emacs-major-version emacs-minor-version))
-        (error "Do `cask install' first"))))
-
-(add-to-list 'package-directory-list cask-elpa)
-(add-hook 'kill-emacs-hook (lambda nil
-                             (when (file-exists-p package-user-dir)
-                               (delete-directory package-user-dir t))))
-(package-initialize)
-(package-install-file pdf-tools-package)
+        (message "Do `cask install' first"))))
 
 ;; FIXME: Move functions to new, loadable file.
 ;; Fake skipped as accepted failures if skip-unless is not available.
@@ -90,6 +83,8 @@
 (defmacro pdf-test-with-encrypted-pdf (&rest body)
   `(pdf-test-with-pdf "encrypted.pdf" ,@body))
 
+(add-to-list 'load-path "../lisp/")
+
 ;; ---
 (require 'undercover)
 (undercover "lisp/*.el")
